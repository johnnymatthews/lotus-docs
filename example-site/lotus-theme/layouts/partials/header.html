<!-- Header -->
<header class="header">
    <div class="header-content">
        <div class="header-left">
            <button class="mobile-menu-toggle" onclick="toggleSidebar()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 12h18M3 6h18M3 18h18"/>
                </svg>
            </button>
            <a href="{{ .Site.BaseURL }}" class="logo">
                <img src="{{ "favicon-96x96.png" | relURL }}" alt="{{ .Site.Title }}" class="logo-icon">
                <span>{{ .Site.Title }}</span>
            </a>
            <nav class="nav-links">
                {{ range .Site.Menus.main }}
                {{ $url := .URL | relLangURL }}
                {{ $isActive := false }}
                {{ if $.IsMenuCurrent "main" . }}
                    {{ $isActive = true }}
                {{ else if $.HasMenuCurrent "main" . }}
                    {{ $isActive = true }}
                {{ else if eq $url $.RelPermalink }}
                    {{ $isActive = true }}
                {{ else if and (ne $url "/") (hasPrefix $.RelPermalink $url) }}
                    {{ $isActive = true }}
                {{ end }}
                <a href="{{ $url }}" class="nav-link {{ if $isActive }}active{{ end }}">{{ .Name }}</a>
                {{ end }}
            </nav>
        </div>
        <div class="header-actions">
            <div class="search-container">
                <input type="search" class="search-box" id="search-box" placeholder="Search...">
                <span class="search-shortcut" id="search-shortcut">âŒ˜K</span>
            </div>
            <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="sun-icon">
                    <circle cx="12" cy="12" r="5"/>
                    <path d="M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6M4.22 19.78l4.24-4.24M15.54 8.46l4.24-4.24"/>
                </svg>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="moon-icon" style="display: none;">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                </svg>
            </button>
            {{ if hugo.IsMultilingual }}
            <div class="language-selector">
                <button class="language-button" onclick="toggleLanguageDropdown()" aria-label="Select language">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                    </svg>
                    <span id="current-language">{{ upper .Site.Language.Lang }}</span>
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M6 9l6 6 6-6"/>
                    </svg>
                </button>
                <div class="language-dropdown" id="language-dropdown">
                    {{ range .Site.Languages }}
                    <button class="language-option {{ if eq $.Site.Language.Lang .Lang }}active{{ end }}" onclick="setLanguage('{{ upper .Lang }}', '{{ .LanguageName }}')">{{ .LanguageName }}</button>
                    {{ end }}
                </div>
            </div>
            {{ end }}
        </div>
    </div>
</header>
